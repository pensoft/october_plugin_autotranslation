<?php if ($usage): ?>
    <div class="usage-stats">
        <?php if ($usage->character): ?>
            <div class="stat-item">
                <strong>Character Usage:</strong>
                <?= number_format($usage->character->count) ?> / <?= number_format($usage->character->limit) ?>
                
                <?php 
                    $percentage = $usage->character->limit > 0 
                        ? ($usage->character->count / $usage->character->limit) * 100 
                        : 0;
                ?>
                
                <div class="progress" style="margin-top: 5px;">
                    <div class="progress-bar <?= $percentage > 80 ? 'progress-bar-danger' : ($percentage > 50 ? 'progress-bar-warning' : 'progress-bar-success') ?>" 
                         role="progressbar" 
                         style="width: <?= $percentage ?>%">
                        <?= number_format($percentage, 1) ?>%
                    </div>
                </div>
            </div>
        <?php endif ?>
        
        <?php if ($usage->document): ?>
            <div class="stat-item" style="margin-top: 15px;">
                <strong>Document Usage:</strong>
                <?= number_format($usage->document->count) ?> / <?= number_format($usage->document->limit) ?>
            </div>
        <?php endif ?>
        
        <?php if ($usage->anyLimitReached()): ?>
            <div class="callout callout-danger" style="margin-top: 15px;">
                <i class="icon-warning"></i> <strong>Warning:</strong> Translation limit has been reached!
            </div>
        <?php endif ?>
    </div>
<?php else: ?>
    <div class="callout callout-warning">
        <i class="icon-warning"></i> Unable to retrieve usage information. Please check your API key configuration.
    </div>
<?php endif ?>

